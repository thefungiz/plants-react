(this["webpackJsonpplants-react"]=this["webpackJsonpplants-react"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),o=a.n(c),i=(a(53),a(1)),s=a(4),l=a.n(s),u=a(11),m=a.n(u),p=a(47),f=function(e){var t=e.name,a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),f=m[0],h=m[1],d=["https://upload.wikimedia.org/wikipedia/commons/7/74/Red_Pencil_Icon.png"];return r.a.createElement("div",null,o.length>0&&o.map((function(e,t){return r.a.createElement("img",{className:"image-fill-parent",key:t,src:e})})),!f&&r.a.createElement("button",{onClick:function(){return h(!0),void l.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&format=json&prop=images&titles=".concat(t)).then((function(e){var t=Object.values(e.data.query.pages)[0].images;t&&t.forEach((function(e){l.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&format=json&titles=".concat(e.title,"&prop=imageinfo&iiprop=url")).then((function(e){var t=Object.values(e.data.query.pages)[0].imageinfo;if(t){var a=t[0].url;a&&!d.includes(a)&&s((function(e){return[].concat(Object(p.a)(e),[t[0].url])}))}}))}))})).catch((function(e){console.error(e)}))}},"Load Images"))},h=function(e){var t=e.data,a=Object(n.useState)(void 0),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),h=p[0],d=p[1],g=Object(n.useState)(void 0),E=Object(i.a)(g,2),v=E[0],b=E[1];return Object(n.useEffect)((function(){s(void 0),d(!0),t.scientificName&&l.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&titles=".concat(t.scientificName,"&prop=extracts&format=json&exintro=1")).then((function(e){var t=Object.values(e.data.query.pages)[0].extract;s(t||'<p class="center">No description found</p>'),d(!1)})).catch((function(e){console.error(e),d(!1)}))}),[t]),Object(n.useEffect)((function(){b(void 0),t.scientificName&&l.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&titles=".concat(t.scientificName,"&prop=pageimages&format=json&pithumbsize=250")).then((function(e){var t=Object.values(e.data.query.pages)[0].thumbnail;t&&b(t.source)})).catch((function(e){console.error(e)}))}),[t]),r.a.createElement("div",{className:"panel"},v&&r.a.createElement("img",{className:"pull-right",src:v}),r.a.createElement("h2",null,r.a.createElement("i",null,t.scientificName)),r.a.createElement("h4",null,"Common name: ",t.primaryCommonName),r.a.createElement("h4",null,"Family: ",t.speciesGlobal.family),r.a.createElement("div",null,"Informal taxonomy: ",t.speciesGlobal.informalTaxonomy),r.a.createElement("div",null,"Comments: ",m()(t.speciesGlobal.taxonomicComments)),r.a.createElement("div",null,r.a.createElement("div",null,"Wikipedia:"),h?r.a.createElement("p",null,"Loading additional information..."):m()(o)),r.a.createElement(f,{name:t.scientificName}))},d=function(e){var t=e.resultsSummary,a=e.setPage;e.setRecordsPerPage;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a(0)}},"First"),r.a.createElement("button",{onClick:function(){return a(t.page-1)}},"Previous"),"Page ",t.page," of ",t.totalPages,r.a.createElement("button",{onClick:function(){return a(t.page+1)}},"Next"),r.a.createElement("button",{onClick:function(){return a(t.totalPages-1)}},"Last"))},g=function(){var e=Object(n.useState)(void 0),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),s=Object(i.a)(o,2),u=s[0],m=s[1],p=Object(n.useState)(20),f=Object(i.a)(p,2),g=f[0],E=f[1];return Object(n.useEffect)((function(){l.a.post("https://cors-anywhere.herokuapp.com/https://explorer.natureserve.org/api/data/speciesSearch",{criteriaType:"species",pagingOptions:{page:u,recordsPerPage:g},locationCriteria:[{paramType:"subnation",subnation:"NE",nation:"US"}],speciesTaxonomyCriteria:[{paramType:"scientificTaxonomy",level:"KINGDOM",scientificTaxonomy:"Plantae"}]}).then((function(e){console.log(e),c(e.data)})).catch((function(e){console.error(e)}))}),[u,g]),r.a.createElement(r.a.Fragment,null,"API Provided by https://explorer.natureserve.org/",r.a.createElement("div",{className:"pagination"},a&&a.resultsSummary&&r.a.createElement(d,{resultsSummary:a.resultsSummary,setPage:m,setRecordsPerPage:E})),r.a.createElement("div",null,a&&r.a.createElement("p",null,"Total species found for NE: ",a.resultsSummary.speciesResults.total),a&&a.results.map((function(e,t){return r.a.createElement(h,{key:t,data:e})}))),r.a.createElement("div",{className:"pagination"},a&&a.resultsSummary&&r.a.createElement(d,{resultsSummary:a.resultsSummary,setPage:m,setRecordsPerPage:E})))},E=function(){return r.a.createElement("div",null,"This project is for messing around with plant web APIs")},v=a(19),b=a(2),y=function(){return r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar pure-menu pure-menu-horizontal header-margin-bottom"},r.a.createElement("a",{href:"#",className:"pure-menu-heading pure-menu-link "},"Plants!"),r.a.createElement(v.b,{className:"pure-menu-heading pure-menu-link",to:"/state"},"State Search")),r.a.createElement("ul",{className:"header header-style"}),r.a.createElement("div",{className:"content container"},r.a.createElement(b.a,{exact:!0,path:"/",component:E}),r.a.createElement(b.a,{exact:!0,path:"/state",component:g}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports=a(117)},53:function(e,t,a){},95:function(e,t){}},[[48,1,2]]]);
//# sourceMappingURL=main.cfe62a3f.chunk.js.map