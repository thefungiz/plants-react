{"version":3,"sources":["state/LoadImages.js","state/SpeciesRecord.js","pagination/Pagination.js","StateSearch.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["LoadImages","name","useState","images","setImages","clicked","setClicked","ignoreImages","length","map","image","i","className","key","src","onClick","axios","get","then","resp","Object","values","data","query","pages","forEach","x","title","response","imageinfo","url","includes","catch","error","console","SpeciesRecord","undefined","description","setDescription","loadingDescription","setLoadingDescription","imageSrc","setImageSrc","useEffect","scientificName","result","extract","thumbnail","source","primaryCommonName","speciesGlobal","family","informalTaxonomy","ReactHtmlParser","taxonomicComments","Pagination","resultsSummary","setPage","setRecordsPerPage","page","totalPages","StateSearch","setResult","recordsPerPage","post","log","speciesResults","total","results","speciesRecord","Home","App","href","to","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.cfe62a3f.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\n\nconst LoadImages = ({ name }) => {\n    const [images, setImages] = useState([]);\n    const [clicked, setClicked] = useState(false);\n    const ignoreImages = ['https://upload.wikimedia.org/wikipedia/commons/7/74/Red_Pencil_Icon.png'];\n\n    const getImages = () => {\n        setClicked(true);\n        axios.get(`https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&format=json&prop=images&titles=${name}`)\n        .then(resp => {\n            const images = Object.values(resp.data.query.pages)[0].images;\n            if (images) {\n                images.forEach(x => {\n                    axios.get(`https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&format=json&titles=${x.title}&prop=imageinfo&iiprop=url`)\n                    .then(response => {\n                        const imageinfo = Object.values(response.data.query.pages)[0].imageinfo;\n                        if (imageinfo) {\n                            const url = imageinfo[0].url;\n                            if (url && !ignoreImages.includes(url)) {\n                                setImages(images => [ ...images ,imageinfo[0].url]);\n                            }\n                        }\n                    });\n                });\n            }\n        })\n        .catch(error => {\n            console.error(error);\n        });\n    }\n\n    return (\n        <div>\n            {images.length > 0 && images.map((image, i) => {\n                return <img className=\"image-fill-parent\" key={i} src={image} />\n            })}\n            {!clicked &&\n                (<button onClick={() => getImages()} >Load Images</button>)\n            }\n        </div>\n    );\n}\nexport default LoadImages;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactHtmlParser from 'react-html-parser';\nimport LoadImages from './LoadImages';\n\nconst SpeciesRecord = ({ data }) => {\n    const [description, setDescription] = useState(undefined);\n    const [loadingDescription, setLoadingDescription] = useState(false);\n    const [imageSrc, setImageSrc] = useState(undefined);\n    useEffect(() => {\n        setDescription(undefined);\n        setLoadingDescription(true);\n        if (data.scientificName) {\n            axios.get(`https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&titles=${data.scientificName}&prop=extracts&format=json&exintro=1`)\n                .then(resp => {\n                    const result = Object.values(resp.data.query.pages)[0].extract;\n                    setDescription(result ? result : '<p class=\"center\">No description found</p>');\n                    setLoadingDescription(false);\n                })\n                .catch(error => {\n                    console.error(error);\n                    setLoadingDescription(false);\n                });\n        }\n    }, [data]);\n    useEffect(() => {\n        setImageSrc(undefined);\n        if (data.scientificName) {\n            axios.get(`https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&titles=${data.scientificName}&prop=pageimages&format=json&pithumbsize=250`)\n                .then(resp => {\n                    const thumbnail = Object.values(resp.data.query.pages)[0].thumbnail;\n                    if (thumbnail) {\n                        setImageSrc(thumbnail.source);\n                    }\n                })\n                .catch(error => {\n                    console.error(error);\n                });\n        }\n    }, [data]);\n    return (\n        <div className=\"panel\">\n            {imageSrc && (<img className=\"pull-right\" src={imageSrc} />)}\n            <h2><i>{data.scientificName}</i></h2>\n            <h4>Common name: {data.primaryCommonName}</h4>\n            <h4>Family: {data.speciesGlobal.family}</h4>\n            <div>Informal taxonomy: {data.speciesGlobal.informalTaxonomy}</div>\n            <div>Comments: {ReactHtmlParser(data.speciesGlobal.taxonomicComments)}</div>\n            <div><div>Wikipedia:</div>\n            {loadingDescription ? (<p>Loading additional information...</p>) : ReactHtmlParser(description)}\n            </div>\n            <LoadImages name={data.scientificName} />\n        </div>\n    );\n};\n\nexport default SpeciesRecord;","import React from 'react';\n\nconst Pagination = ({ resultsSummary, setPage, setRecordsPerPage }) => {\n    return (\n        <div>\n            <button onClick={() => setPage(0)}>First</button>\n            <button onClick={() => setPage(resultsSummary.page - 1)}>Previous</button>\n                    Page {resultsSummary.page} of {resultsSummary.totalPages}\n            <button onClick={() => setPage(resultsSummary.page + 1)}>Next</button>\n            <button onClick={() => setPage(resultsSummary.totalPages - 1)}>Last</button>\n        </div>\n    );\n}\nexport default Pagination;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport SpeciesRecord from './state/SpeciesRecord';\nimport Pagination from './pagination/Pagination';\n\nconst StateSearch = () => {\n    const [result, setResult] = useState(undefined);\n    const [page, setPage] = useState(0);\n    const [recordsPerPage, setRecordsPerPage] = useState(20);\n\n    useEffect(() => {\n        axios.post(\n            'https://cors-anywhere.herokuapp.com/https://explorer.natureserve.org/api/data/speciesSearch',\n            {\n                \"criteriaType\": \"species\",\n                \"pagingOptions\": {\n                    page,\n                    recordsPerPage\n                },\n                \"locationCriteria\":\n                    [{ \"paramType\": \"subnation\", \"subnation\": \"NE\", \"nation\": \"US\" }],\n                \"speciesTaxonomyCriteria\":\n                    [{ \"paramType\": \"scientificTaxonomy\", \"level\": \"KINGDOM\", \"scientificTaxonomy\": \"Plantae\" }]\n            })\n            .then(resp => {\n                console.log(resp);\n                setResult(resp.data);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, [page, recordsPerPage]);\n\n    return (\n        <>\n            API Provided by https://explorer.natureserve.org/\n            <div className=\"pagination\">\n                {result && result.resultsSummary && <Pagination resultsSummary={result.resultsSummary} setPage={setPage} setRecordsPerPage={setRecordsPerPage} />}\n            </div>\n            <div>\n                {result && (<p>Total species found for NE: {result.resultsSummary.speciesResults.total}</p>)}\n                {result && result.results.map((speciesRecord, i) => {\n                    return <SpeciesRecord key={i} data={speciesRecord} />\n                })}\n            </div>\n            <div className=\"pagination\">\n                {result && result.resultsSummary && <Pagination resultsSummary={result.resultsSummary} setPage={setPage} setRecordsPerPage={setRecordsPerPage} />}\n            </div>\n        </>\n    );\n}\n\nexport default StateSearch;","import React from 'react';\n\nconst Home = () => {\n    return <div>This project is for messing around with plant web APIs</div>\n}\nexport default Home;","import React from 'react';\nimport './App.css';\nimport FamilyTree from './FamilyTree';\nimport StateSearch from './StateSearch';\nimport Home from \"./Home\"\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <HashRouter>\n      <div>\n        <nav className=\"navbar pure-menu pure-menu-horizontal header-margin-bottom\">\n          <a href=\"#\" className=\"pure-menu-heading pure-menu-link \">Plants!</a>\n          {/* <NavLink className=\"pure-menu-heading pure-men u-link\" to=\"/tree\">Family Tree</NavLink> */}\n          <NavLink className=\"pure-menu-heading pure-menu-link\" to=\"/state\">State Search</NavLink>\n        </nav>\n        <ul className=\"header header-style\">\n        </ul>\n        <div className=\"content container\">\n          <Route exact path=\"/\" component={Home} />\n          {/* <Route exact path=\"/tree\" component={FamilyTree} /> disabling this page for now */}\n          <Route exact path=\"/state\" component={StateSearch} />\n        </div>\n      </div>\n    </HashRouter>\n  );\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}